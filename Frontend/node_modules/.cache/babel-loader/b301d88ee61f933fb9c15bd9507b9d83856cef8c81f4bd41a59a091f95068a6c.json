{"ast":null,"code":"import _objectSpread from\"C:/QRail/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import'./RegistrationModal.css';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegistrationModal=_ref=>{let{isOpen,onClose}=_ref;const[formData,setFormData]=useState({username:'',password:'',name:'',email:'',role:'manufacturer'});const[message,setMessage]=useState({text:'',type:''});const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async()=>{try{const result=await api.auth.register(formData);if(result.success){setMessage({text:'Registration submitted. Await admin approval.',type:'success'});setTimeout(()=>{onClose();setFormData({username:'',password:'',name:'',email:'',role:'manufacturer'});setMessage({text:'',type:''});},2000);}else{setMessage({text:result.error||'Registration failed',type:'error'});}}catch(error){setMessage({text:'Registration error: '+error.message,type:'error'});}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal \".concat(isOpen?'show':''),onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons-round\",children:\"person_add\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Register New Account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md-text-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",value:formData.username,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md-text-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",value:formData.password,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md-text-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:formData.name,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md-text-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",value:formData.email,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md-text-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"role\",value:formData.role,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"manufacturer\",children:\"Manufacturer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"worker\",children:\"Worker\"}),/*#__PURE__*/_jsx(\"option\",{value:\"engineer\",children:\"Engineer\"})]})]})]}),message.text&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'16px',padding:'12px',borderRadius:'8px',backgroundColor:message.type==='success'?'#4caf50':'#f44336',color:'white'},children:message.text}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"md-button outline\",onClick:onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"md-button\",onClick:handleSubmit,children:\"Submit\"})]})]})});};export default RegistrationModal;","map":{"version":3,"names":["React","useState","api","jsx","_jsx","jsxs","_jsxs","RegistrationModal","_ref","isOpen","onClose","formData","setFormData","username","password","name","email","role","message","setMessage","text","type","handleInputChange","e","value","target","prev","_objectSpread","handleSubmit","result","auth","register","success","setTimeout","error","className","concat","onClick","children","stopPropagation","onChange","style","marginTop","padding","borderRadius","backgroundColor","color"],"sources":["C:/QRail/Frontend/src/components/RegistrationModal.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './RegistrationModal.css';\r\nimport api from '../services/api';\r\nconst RegistrationModal = ({ isOpen, onClose }) => {\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    password: '',\r\n    name: '',\r\n    email: '',\r\n    role: 'manufacturer'\r\n  });\r\n  const [message, setMessage] = useState({ text: '', type: '' });\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const result = await api.auth.register(formData);\r\n\r\n      if (result.success) {\r\n        setMessage({ text: 'Registration submitted. Await admin approval.', type: 'success' });\r\n        setTimeout(() => {\r\n          onClose();\r\n          setFormData({\r\n            username: '',\r\n            password: '',\r\n            name: '',\r\n            email: '',\r\n            role: 'manufacturer'\r\n          });\r\n          setMessage({ text: '', type: '' });\r\n        }, 2000);\r\n      } else {\r\n        setMessage({ text: result.error || 'Registration failed', type: 'error' });\r\n      }\r\n    } catch (error) {\r\n      setMessage({ text: 'Registration error: ' + error.message, type: 'error' });\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className={`modal ${isOpen ? 'show' : ''}`} onClick={onClose}>\r\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"modal-header\">\r\n          <span className=\"material-icons-round\">person_add</span>\r\n          <h3>Register New Account</h3>\r\n        </div>\r\n\r\n        <div className=\"form-grid\">\r\n          <div className=\"md-text-field\">\r\n            <label>Username</label>\r\n            <input\r\n              name=\"username\"\r\n              value={formData.username}\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"md-text-field\">\r\n            <label>Password</label>\r\n            <input\r\n              name=\"password\"\r\n              type=\"password\"\r\n              value={formData.password}\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"md-text-field\">\r\n            <label>Name</label>\r\n            <input\r\n              name=\"name\"\r\n              value={formData.name}\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"md-text-field\">\r\n            <label>Email</label>\r\n            <input\r\n              name=\"email\"\r\n              type=\"email\"\r\n              value={formData.email}\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"md-text-field\">\r\n            <label>Role</label>\r\n            <select\r\n              name=\"role\"\r\n              value={formData.role}\r\n              onChange={handleInputChange}\r\n            >\r\n              <option value=\"manufacturer\">Manufacturer</option>\r\n              <option value=\"worker\">Worker</option>\r\n              <option value=\"engineer\">Engineer</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {message.text && (\r\n          <div style={{ \r\n            marginTop: '16px', \r\n            padding: '12px', \r\n            borderRadius: '8px',\r\n            backgroundColor: message.type === 'success' ? '#4caf50' : '#f44336',\r\n            color: 'white'\r\n          }}>\r\n            {message.text}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"modal-actions\">\r\n          <button className=\"md-button outline\" onClick={onClose}>\r\n            Cancel\r\n          </button>\r\n          <button className=\"md-button\" onClick={handleSubmit}>\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegistrationModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}