{"ast":null,"code":"var _jsxFileName = \"C:\\\\QRail\\\\Frontend\\\\src\\\\components\\\\Maintenance\\\\MaintenanceTab.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './MaintenanceTab.css';\n\n// Debug flag - set to true to enable debug logs and video preview\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEBUG = true;\n\n// Debug logger\nconst log = (...args) => DEBUG && console.log(...args);\nconst MaintenanceTab = ({\n  user\n}) => {\n  _s();\n  const [view, setView] = useState('scanner'); // 'scanner' or 'form'\n  const [scannedAsset, setScannedAsset] = useState(null);\n  const [scanning, setScanning] = useState(false);\n  const [maintenanceRecords, setMaintenanceRecords] = useState([]);\n  const [formData, setFormData] = useState({\n    maintenanceType: 'Preventive',\n    description: '',\n    status: 'completed',\n    date: new Date().toISOString().split('T')[0]\n  });\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n  const scanIntervalRef = useRef(null);\n  useEffect(() => {\n    loadMaintenanceRecords();\n  }, []);\n  useEffect(() => {\n    return () => {\n      stopCamera();\n    };\n  }, []);\n  const loadMaintenanceRecords = async () => {\n    try {\n      const response = await fetch('/api/maintenance', {\n        credentials: 'include'\n      });\n      const data = await response.json();\n      if (data.success) {\n        setMaintenanceRecords(data.records || []);\n      }\n    } catch (error) {\n      console.error('Failed to load maintenance records:', error);\n    }\n  };\n  const startCamera = async () => {\n    try {\n      log('Starting camera...');\n\n      // First check if we have required permissions\n      const permissionResult = await navigator.permissions.query({\n        name: 'camera'\n      });\n      log('Camera permission state:', permissionResult.state);\n      if (permissionResult.state === 'denied') {\n        throw new Error('Camera permission was denied');\n      }\n\n      // Get available video devices\n      const devices = await navigator.mediaDevices.enumerateDevices();\n      const videoDevices = devices.filter(device => device.kind === 'videoinput');\n      log('Available video devices:', videoDevices);\n      const constraints = {\n        video: {\n          facingMode: 'environment',\n          width: {\n            ideal: 640\n          },\n          height: {\n            ideal: 480\n          }\n        }\n      };\n      log('Requesting video stream with constraints:', constraints);\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      if (videoRef.current) {\n        log('Setting video source and playing...');\n        videoRef.current.srcObject = stream;\n\n        // Wait for video to be ready\n        await new Promise(resolve => {\n          videoRef.current.onloadedmetadata = () => {\n            log('Video metadata loaded');\n            resolve();\n          };\n        });\n        await videoRef.current.play();\n        log('Video playing:', {\n          width: videoRef.current.videoWidth,\n          height: videoRef.current.videoHeight,\n          readyState: videoRef.current.readyState\n        });\n        streamRef.current = stream;\n        setScanning(true);\n\n        // Start scanning frames\n        scanIntervalRef.current = setInterval(scanFrame, 500);\n        log('Camera started successfully');\n      } else {\n        throw new Error('Video element reference not found');\n      }\n    } catch (error) {\n      console.error('Camera access error:', error);\n      alert(`Unable to access camera: ${error.message}. Please grant camera permissions and ensure no other app is using the camera.`);\n    }\n  };\n  const stopCamera = () => {\n    if (scanIntervalRef.current) {\n      clearInterval(scanIntervalRef.current);\n      scanIntervalRef.current = null;\n    }\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n    if (videoRef.current) {\n      videoRef.current.srcObject = null;\n    }\n    setScanning(false);\n  };\n  const scanFrame = async () => {\n    if (!videoRef.current || !canvasRef.current || !videoRef.current.srcObject) {\n      log('Skipping frame scan - video not ready');\n      return;\n    }\n    try {\n      const canvas = canvasRef.current;\n      const video = videoRef.current;\n      const ctx = canvas.getContext('2d');\n\n      // Set fixed dimensions for the canvas\n      canvas.width = 640; // Standard width\n      canvas.height = 480; // Standard height\n\n      log('Capturing video frame:', {\n        videoWidth: video.videoWidth,\n        videoHeight: video.videoHeight,\n        readyState: video.readyState,\n        canvasWidth: canvas.width,\n        canvasHeight: canvas.height\n      });\n\n      // Draw the current video frame\n      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n      const imageData = canvas.toDataURL('image/jpeg', 0.8);\n      const response = await fetch('/api/scan-qr-frame', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          image: imageData\n        })\n      });\n      const result = await response.json();\n      if (result.success && result.asset) {\n        // QR detected! Stop scanning and open form\n        log('QR code detected:', result.asset);\n        stopCamera();\n        setScannedAsset(result.asset);\n        setView('form');\n\n        // Optional: Play success sound or vibration\n        if (navigator.vibrate) {\n          navigator.vibrate(200);\n        }\n      }\n    } catch (error) {\n      log('QR scan error:', error);\n      console.error('QR scan error:', error);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSubmitMaintenance = async e => {\n    e.preventDefault();\n    if (!scannedAsset) {\n      alert('Please scan a QR code first');\n      return;\n    }\n    try {\n      const payload = {\n        assetId: scannedAsset.asset_id || scannedAsset.assetId,\n        maintenanceType: formData.maintenanceType,\n        description: formData.description,\n        status: formData.status,\n        date: formData.date,\n        performedBy: (user === null || user === void 0 ? void 0 : user.username) || 'Unknown'\n      };\n      const response = await fetch('/api/maintenance', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify(payload)\n      });\n      const result = await response.json();\n      if (result.success) {\n        alert('Maintenance record saved successfully!');\n\n        // Reset and go back to scanner\n        setFormData({\n          maintenanceType: 'Preventive',\n          description: '',\n          status: 'completed',\n          date: new Date().toISOString().split('T')[0]\n        });\n        setScannedAsset(null);\n        setView('scanner');\n        loadMaintenanceRecords();\n      } else {\n        alert('Error: ' + (result.error || 'Failed to save'));\n      }\n    } catch (error) {\n      console.error('Maintenance submission error:', error);\n      alert('Error submitting maintenance record');\n    }\n  };\n  const cancelForm = () => {\n    setScannedAsset(null);\n    setView('scanner');\n    setFormData({\n      maintenanceType: 'Preventive',\n      description: '',\n      status: 'completed',\n      date: new Date().toISOString().split('T')[0]\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"maintenance-tab-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"page-title\",\n        children: \"Maintenance Records\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-subtitle\",\n        children: \"Track and manage asset maintenance history\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), view === 'scanner' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"md-card scanner-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons-round card-icon\",\n          children: \"qr_code_scanner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Scan Asset QR Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scanner-container\",\n        children: !scanning ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scanner-placeholder\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-icons-round\",\n            children: \"qr_code_scanner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Click the button below to start scanning\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startCamera,\n            className: \"md-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-icons-round\",\n              children: \"camera\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 19\n            }, this), \"Start Camera\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            autoPlay: true,\n            playsInline: true,\n            style: {\n              width: '100%',\n              height: 'auto',\n              maxHeight: '480px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            style: {\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              opacity: 0.001\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scanner-overlay\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"scan-frame\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"scan-hint\",\n              children: \"Position QR code within frame\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: stopCamera,\n            className: \"stop-camera-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-icons-round\",\n              children: \"close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 19\n            }, this), \"Stop Camera\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }, this), view === 'form' && scannedAsset && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"md-card maintenance-form-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons-round card-icon\",\n          children: \"build\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Add Maintenance Record\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scanned-asset-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Scanned Asset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"asset-detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Asset ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: scannedAsset.asset_id || scannedAsset.assetId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"asset-detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Type:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: scannedAsset.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"asset-detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Manufacturer:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: scannedAsset.manufacturer || scannedAsset.manufacturer_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmitMaintenance,\n        className: \"maintenance-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md-text-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Maintenance Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"maintenanceType\",\n            value: formData.maintenanceType,\n            onChange: handleInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Preventive\",\n              children: \"Preventive\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Corrective\",\n              children: \"Corrective\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Inspection\",\n              children: \"Inspection\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Emergency\",\n              children: \"Emergency\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md-text-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"date\",\n            value: formData.date,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md-text-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: formData.description,\n            onChange: handleInputChange,\n            placeholder: \"Enter maintenance details...\",\n            rows: \"4\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md-text-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"status\",\n            value: formData.status,\n            onChange: handleInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"completed\",\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"pending\",\n              children: \"Pending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"in-progress\",\n              children: \"In Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"md-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-icons-round\",\n              children: \"save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this), \"Save Record\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: cancelForm,\n            className: \"md-button secondary\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-icons-round\",\n              children: \"close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this), \"Cancel\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"md-card records-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons-round card-icon\",\n          children: \"history\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Recent Maintenance Records\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"md-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Asset ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Operator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: maintenanceRecords.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"6\",\n                className: \"empty-state\",\n                children: \"No maintenance records found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 17\n            }, this) : maintenanceRecords.map((record, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: record.asset_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: record.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: record.maintenance_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: record.operator\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"description-cell\",\n                children: record.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `md-badge ${record.status === 'completed' ? 'success' : 'warning'}`,\n                  children: record.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 250,\n    columnNumber: 5\n  }, this);\n};\n_s(MaintenanceTab, \"AqPElZbiBI6GhESYStu7Gg5Ld4w=\");\n_c = MaintenanceTab;\nexport default MaintenanceTab;\nvar _c;\n$RefreshReg$(_c, \"MaintenanceTab\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","DEBUG","log","args","console","MaintenanceTab","user","_s","view","setView","scannedAsset","setScannedAsset","scanning","setScanning","maintenanceRecords","setMaintenanceRecords","formData","setFormData","maintenanceType","description","status","date","Date","toISOString","split","videoRef","canvasRef","streamRef","scanIntervalRef","loadMaintenanceRecords","stopCamera","response","fetch","credentials","data","json","success","records","error","startCamera","permissionResult","navigator","permissions","query","name","state","Error","devices","mediaDevices","enumerateDevices","videoDevices","filter","device","kind","constraints","video","facingMode","width","ideal","height","stream","getUserMedia","current","srcObject","Promise","resolve","onloadedmetadata","play","videoWidth","videoHeight","readyState","setInterval","scanFrame","alert","message","clearInterval","getTracks","forEach","track","stop","canvas","ctx","getContext","canvasWidth","canvasHeight","drawImage","imageData","toDataURL","method","headers","body","JSON","stringify","image","result","asset","vibrate","handleInputChange","e","value","target","prev","handleSubmitMaintenance","preventDefault","payload","assetId","asset_id","performedBy","username","cancelForm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","autoPlay","playsInline","style","maxHeight","position","top","left","opacity","type","manufacturer","manufacturer_id","onSubmit","onChange","required","placeholder","rows","length","colSpan","map","record","index","maintenance_type","operator","_c","$RefreshReg$"],"sources":["C:/QRail/Frontend/src/components/Maintenance/MaintenanceTab.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './MaintenanceTab.css';\r\n\r\n// Debug flag - set to true to enable debug logs and video preview\r\nconst DEBUG = true;\r\n\r\n// Debug logger\r\nconst log = (...args) => DEBUG && console.log(...args);\r\n\r\nconst MaintenanceTab = ({ user }) => {\r\n  const [view, setView] = useState('scanner'); // 'scanner' or 'form'\r\n  const [scannedAsset, setScannedAsset] = useState(null);\r\n  const [scanning, setScanning] = useState(false);\r\n  const [maintenanceRecords, setMaintenanceRecords] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    maintenanceType: 'Preventive',\r\n    description: '',\r\n    status: 'completed',\r\n    date: new Date().toISOString().split('T')[0]\r\n  });\r\n  \r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const streamRef = useRef(null);\r\n  const scanIntervalRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    loadMaintenanceRecords();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      stopCamera();\r\n    };\r\n  }, []);\r\n\r\n  const loadMaintenanceRecords = async () => {\r\n    try {\r\n      const response = await fetch('/api/maintenance', { credentials: 'include' });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setMaintenanceRecords(data.records || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load maintenance records:', error);\r\n    }\r\n  };\r\n\r\n  const startCamera = async () => {\r\n    try {\r\n      log('Starting camera...');\r\n      \r\n      // First check if we have required permissions\r\n      const permissionResult = await navigator.permissions.query({ name: 'camera' });\r\n      log('Camera permission state:', permissionResult.state);\r\n      \r\n      if (permissionResult.state === 'denied') {\r\n        throw new Error('Camera permission was denied');\r\n      }\r\n\r\n      // Get available video devices\r\n      const devices = await navigator.mediaDevices.enumerateDevices();\r\n      const videoDevices = devices.filter(device => device.kind === 'videoinput');\r\n      log('Available video devices:', videoDevices);\r\n\r\n      const constraints = {\r\n        video: { \r\n          facingMode: 'environment',\r\n          width: { ideal: 640 },\r\n          height: { ideal: 480 }\r\n        }\r\n      };\r\n\r\n      log('Requesting video stream with constraints:', constraints);\r\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n      \r\n      if (videoRef.current) {\r\n        log('Setting video source and playing...');\r\n        videoRef.current.srcObject = stream;\r\n        \r\n        // Wait for video to be ready\r\n        await new Promise((resolve) => {\r\n          videoRef.current.onloadedmetadata = () => {\r\n            log('Video metadata loaded');\r\n            resolve();\r\n          };\r\n        });\r\n        \r\n        await videoRef.current.play();\r\n        log('Video playing:', {\r\n          width: videoRef.current.videoWidth,\r\n          height: videoRef.current.videoHeight,\r\n          readyState: videoRef.current.readyState\r\n        });\r\n        \r\n        streamRef.current = stream;\r\n        setScanning(true);\r\n        \r\n        // Start scanning frames\r\n        scanIntervalRef.current = setInterval(scanFrame, 500);\r\n        log('Camera started successfully');\r\n      } else {\r\n        throw new Error('Video element reference not found');\r\n      }\r\n    } catch (error) {\r\n      console.error('Camera access error:', error);\r\n      alert(`Unable to access camera: ${error.message}. Please grant camera permissions and ensure no other app is using the camera.`);\r\n    }\r\n  };\r\n\r\n  const stopCamera = () => {\r\n    if (scanIntervalRef.current) {\r\n      clearInterval(scanIntervalRef.current);\r\n      scanIntervalRef.current = null;\r\n    }\r\n    \r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop());\r\n      streamRef.current = null;\r\n    }\r\n    \r\n    if (videoRef.current) {\r\n      videoRef.current.srcObject = null;\r\n    }\r\n    \r\n    setScanning(false);\r\n  };\r\n\r\n  const scanFrame = async () => {\r\n    if (!videoRef.current || !canvasRef.current || !videoRef.current.srcObject) {\r\n      log('Skipping frame scan - video not ready');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const canvas = canvasRef.current;\r\n      const video = videoRef.current;\r\n      const ctx = canvas.getContext('2d');\r\n\r\n      // Set fixed dimensions for the canvas\r\n      canvas.width = 640;  // Standard width\r\n      canvas.height = 480; // Standard height\r\n      \r\n      log('Capturing video frame:', {\r\n        videoWidth: video.videoWidth,\r\n        videoHeight: video.videoHeight,\r\n        readyState: video.readyState,\r\n        canvasWidth: canvas.width,\r\n        canvasHeight: canvas.height\r\n      });\r\n      \r\n      // Draw the current video frame\r\n      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n\r\n      const imageData = canvas.toDataURL('image/jpeg', 0.8);\r\n      \r\n      const response = await fetch('/api/scan-qr-frame', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ image: imageData })\r\n      });\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success && result.asset) {\r\n        // QR detected! Stop scanning and open form\r\n        log('QR code detected:', result.asset);\r\n        stopCamera();\r\n        setScannedAsset(result.asset);\r\n        setView('form');\r\n        \r\n        // Optional: Play success sound or vibration\r\n        if (navigator.vibrate) {\r\n          navigator.vibrate(200);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      log('QR scan error:', error);\r\n      console.error('QR scan error:', error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmitMaintenance = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!scannedAsset) {\r\n      alert('Please scan a QR code first');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const payload = {\r\n        assetId: scannedAsset.asset_id || scannedAsset.assetId,\r\n        maintenanceType: formData.maintenanceType,\r\n        description: formData.description,\r\n        status: formData.status,\r\n        date: formData.date,\r\n        performedBy: user?.username || 'Unknown'\r\n      };\r\n\r\n      const response = await fetch('/api/maintenance', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify(payload)\r\n      });\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        alert('Maintenance record saved successfully!');\r\n        \r\n        // Reset and go back to scanner\r\n        setFormData({\r\n          maintenanceType: 'Preventive',\r\n          description: '',\r\n          status: 'completed',\r\n          date: new Date().toISOString().split('T')[0]\r\n        });\r\n        setScannedAsset(null);\r\n        setView('scanner');\r\n        loadMaintenanceRecords();\r\n      } else {\r\n        alert('Error: ' + (result.error || 'Failed to save'));\r\n      }\r\n    } catch (error) {\r\n      console.error('Maintenance submission error:', error);\r\n      alert('Error submitting maintenance record');\r\n    }\r\n  };\r\n\r\n  const cancelForm = () => {\r\n    setScannedAsset(null);\r\n    setView('scanner');\r\n    setFormData({\r\n      maintenanceType: 'Preventive',\r\n      description: '',\r\n      status: 'completed',\r\n      date: new Date().toISOString().split('T')[0]\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"maintenance-tab-container\">\r\n      <div className=\"page-header\">\r\n        <h2 className=\"page-title\">Maintenance Records</h2>\r\n        <p className=\"page-subtitle\">Track and manage asset maintenance history</p>\r\n      </div>\r\n\r\n      {view === 'scanner' && (\r\n        <div className=\"md-card scanner-card\">\r\n          <div className=\"card-header\">\r\n            <span className=\"material-icons-round card-icon\">qr_code_scanner</span>\r\n            <h3>Scan Asset QR Code</h3>\r\n          </div>\r\n\r\n          <div className=\"scanner-container\">\r\n            {!scanning ? (\r\n              <div className=\"scanner-placeholder\">\r\n                <span className=\"material-icons-round\">qr_code_scanner</span>\r\n                <p>Click the button below to start scanning</p>\r\n                <button onClick={startCamera} className=\"md-button\">\r\n                  <span className=\"material-icons-round\">camera</span>\r\n                  Start Camera\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"video-container\">\r\n                <video \r\n                  ref={videoRef} \r\n                  autoPlay \r\n                  playsInline \r\n                  style={{ width: '100%', height: 'auto', maxHeight: '480px' }}\r\n                />\r\n                <canvas \r\n                  ref={canvasRef} \r\n                  style={{ \r\n                    position: 'absolute', \r\n                    top: 0, \r\n                    left: 0, \r\n                    width: '100%', \r\n                    height: '100%',\r\n                    opacity: 0.001 \r\n                  }} \r\n                />\r\n                <div className=\"scanner-overlay\">\r\n                  <div className=\"scan-frame\"></div>\r\n                  <p className=\"scan-hint\">Position QR code within frame</p>\r\n                </div>\r\n                <button onClick={stopCamera} className=\"stop-camera-btn\">\r\n                  <span className=\"material-icons-round\">close</span>\r\n                  Stop Camera\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {view === 'form' && scannedAsset && (\r\n        <div className=\"md-card maintenance-form-card\">\r\n          <div className=\"card-header\">\r\n            <span className=\"material-icons-round card-icon\">build</span>\r\n            <h3>Add Maintenance Record</h3>\r\n          </div>\r\n\r\n          {/* Scanned Asset Info */}\r\n          <div className=\"scanned-asset-info\">\r\n            <h4>Scanned Asset</h4>\r\n            <div className=\"asset-detail-row\">\r\n              <span className=\"detail-label\">Asset ID:</span>\r\n              <span className=\"detail-value\">{scannedAsset.asset_id || scannedAsset.assetId}</span>\r\n            </div>\r\n            <div className=\"asset-detail-row\">\r\n              <span className=\"detail-label\">Type:</span>\r\n              <span className=\"detail-value\">{scannedAsset.type}</span>\r\n            </div>\r\n            <div className=\"asset-detail-row\">\r\n              <span className=\"detail-label\">Manufacturer:</span>\r\n              <span className=\"detail-value\">{scannedAsset.manufacturer || scannedAsset.manufacturer_id}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Maintenance Form */}\r\n          <form onSubmit={handleSubmitMaintenance} className=\"maintenance-form\">\r\n            <div className=\"md-text-field\">\r\n              <label>Maintenance Type</label>\r\n              <select\r\n                name=\"maintenanceType\"\r\n                value={formData.maintenanceType}\r\n                onChange={handleInputChange}\r\n                required\r\n              >\r\n                <option value=\"Preventive\">Preventive</option>\r\n                <option value=\"Corrective\">Corrective</option>\r\n                <option value=\"Inspection\">Inspection</option>\r\n                <option value=\"Emergency\">Emergency</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"md-text-field\">\r\n              <label>Date</label>\r\n              <input\r\n                type=\"date\"\r\n                name=\"date\"\r\n                value={formData.date}\r\n                onChange={handleInputChange}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"md-text-field\">\r\n              <label>Description</label>\r\n              <textarea\r\n                name=\"description\"\r\n                value={formData.description}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Enter maintenance details...\"\r\n                rows=\"4\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"md-text-field\">\r\n              <label>Status</label>\r\n              <select\r\n                name=\"status\"\r\n                value={formData.status}\r\n                onChange={handleInputChange}\r\n                required\r\n              >\r\n                <option value=\"completed\">Completed</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"in-progress\">In Progress</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"form-actions\">\r\n              <button type=\"submit\" className=\"md-button\">\r\n                <span className=\"material-icons-round\">save</span>\r\n                Save Record\r\n              </button>\r\n              <button type=\"button\" onClick={cancelForm} className=\"md-button secondary\">\r\n                <span className=\"material-icons-round\">close</span>\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* Maintenance Records Table */}\r\n      <div className=\"md-card records-card\">\r\n        <div className=\"card-header\">\r\n          <span className=\"material-icons-round card-icon\">history</span>\r\n          <h3>Recent Maintenance Records</h3>\r\n        </div>\r\n\r\n        <div className=\"table-container\">\r\n          <table className=\"md-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Asset ID</th>\r\n                <th>Date</th>\r\n                <th>Type</th>\r\n                <th>Operator</th>\r\n                <th>Description</th>\r\n                <th>Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {maintenanceRecords.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan=\"6\" className=\"empty-state\">\r\n                    No maintenance records found\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                maintenanceRecords.map((record, index) => (\r\n                  <tr key={index}>\r\n                    <td>{record.asset_id}</td>\r\n                    <td>{record.date}</td>\r\n                    <td>{record.maintenance_type}</td>\r\n                    <td>{record.operator}</td>\r\n                    <td className=\"description-cell\">{record.description}</td>\r\n                    <td>\r\n                      <span className={`md-badge ${record.status === 'completed' ? 'success' : 'warning'}`}>\r\n                        {record.status}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MaintenanceTab;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}